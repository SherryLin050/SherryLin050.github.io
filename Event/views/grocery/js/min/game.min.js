function checkLogin(){$.ajax({url:"/PersonalLogin/CheckLogin",type:"get",async:!1,contentType:"application/json",beforeSend:function(){},success:function(e){e.data?isLogin=!0:LoginSharedModalByCallFunction(setisLogin)},error:function(e){console.log(e)}})}function setisLogin(){isLogin=!0}function GameStart(){return isLogin?Game.time>0&&31!=Game.time?(alert("遊戲尚未結束,不能重新開始哦!"),void 0):(Game.reset(),Game.init(),Game.start(),Game.startTime(),$(".start").css("display","none"),void 0):(LoginSharedModalByCallFunction(setisLogin),!1)}function scoremodal(){var e=$("#score").text(),t=e.toString(),o=prizeList[3];t>=420?(o=prizeList[0],showModal(o),setTimeout(function(){checkMediaCouponAjax(o.scGroupId)},500),console.log("420",o)):t>=300&&360>t?(o=prizeList[1],showModal(o),setTimeout(function(){checkMediaCouponAjax(o.scGroupId)},500),console.log("300",o)):t>=120&&170>t?(o=prizeList[2],showModal(o),setTimeout(function(){checkMediaCouponAjax(o.scGroupId)},500),console.log("120",o)):(showModal(o),setTimeout(function(){checkMediaCouponAjax(o.scGroupId)},500),console.log("5555",o))}function copyurl1(){var e=document.getElementById("txt_output1");e.select(),e.setSelectionRange(0,99999),document.execCommand("copy"),alert("copy success")}function showModal(e){link="<a href="+e.LinkUrl+" target='_blank'>"+e.LinkTitle+"</a>",$("#modal-container1 .modal-content").html("<div class='col-xs-12'><p class='modal-title'>"+e.Message+"</p><p class='modal-ps'>"+link+"</p></div>"),$("#modal-container1").modal()}function showModalFail(e){link="<a href="+e.LinkUrl+" target='_blank'>"+e.LinkTitle+"</a>",$("#modal-container2 .modal-content").html("<div class='col-xs-12'><p class='modal-title'>"+e.Message+"</p><p class='modal-ps'>"+link+"</p></div>"),$("#modal-container2").modal()}function checkMediaCouponAjax(e){$.ajax({url:"/Event/CheckEvnShoopinCash?scGroupId="+e,type:"get",async:!1,contentType:"application/json",beforeSend:function(){},success:function(t){"ok"==t.status?getMediaCouponAjax(e):alert(t.message)},error:function(e){console.log(e)}})}function getMediaCouponAjax(e){$.ajax({url:"/Event/GiveEvntShopingCashByscGroupId",data:JSON.stringify({scGroupId:e}),type:"post",async:!1,contentType:"application/json",beforeSend:function(){},success:function(e){"ok"==e.status?console.log("感謝您！購物金已匯入您的會員帳戶！"):console.log("感謝！您已成功領取，請記得使用喔！")},error:function(e){console.log(e)}})}var isLogin=!1;checkLogin();var prizeList=[{scGroupId:1469,LinkTitle:"一鍵領取",LinkUrl:"https://www.eclife.com.tw/Personal/ShoppingCash/",Message:"很會射，國家需要你，恭喜射到最高$420品牌購物金，品牌商品滿$4600可使用"},{scGroupId:1468,LinkTitle:"一鍵領取",LinkUrl:"https://www.eclife.com.tw/Personal/ShoppingCash/",Message:"恭喜射到$300品牌購物金，品牌商品滿$3500可使用"},{scGroupId:1467,LinkTitle:"一鍵領取",LinkUrl:"https://www.eclife.com.tw/Personal/ShoppingCash/",Message:"恭喜射到$120品牌購物金，品牌商品滿$1600可使用"},{scGroupId:0,LinkTitle:"換把快槍鼠吧",LinkUrl:"https://www.eclife.com.tw/MonthEvent/TGS202201",Message:"這成績我不忍直視…"}],Mouse=function(e){this.mouse=null,this.num=-1,this.hole=-1,this.init(e)};Mouse.prototype={mousetype:{good:"https://img.eclife.com.tw/EDM/11105/grocery202205/shoot_r.png",bad:"https://img.eclife.com.tw/EDM/11105/grocery202205/shoot_y.png",goodkill:"https://img.eclife.com.tw/EDM/11105/grocery202205/Get.png",badkill:"https://img.eclife.com.tw/EDM/11105/grocery202205/Get.png"},init:function(e){e=e||"good";var t=this;this.mouse=document.createElement("div"),this.mouse.mousetype=e,this.mouse.islive=!0,screen.width<1025?(this.mouse.style.cssText="width:220px;height:220px;background:url('"+this.mousetype[e]+"') no-repeat;left:50%;transform: translateX(-50%);bottom:0;position:absolute;margin:auto;",this.mouse.style.backgroundRepeat="no-repeat",screen.width<768&&(this.mouse.style.cssText="width:95px;height:103px;background:url('"+this.mousetype[e]+"') no-repeat;left:50%;transform: translateX(-50%);bottom:-6px;position:absolute;margin:auto;",this.mouse.style.backgroundRepeat="no-repeat")):(this.mouse.style.cssText="width:220px;height:250px;background:url('"+this.mousetype[e]+"') no-repeat;left:50%;transform: translateX(-50%);bottom:-20px;position:absolute;margin:auto;",this.mouse.style.backgroundRepeat="no-repeat"),this.mouse.onclick=function(e){t.beat(e)}},beat:function(){this.mouse.islive&&(this.mouse.islive=!1,this.onbeat(),this.mouse.style.background="url("+this.mousetype[this.mouse.mousetype+"kill"]+")",this.mouse.style.backgroundRepeat="no-repeat")},animation:function(e){e=screen.width<992?"fast"==e?30:"normal"==e?70:110:"fast"==e?100:"normal"==e?90:110;var t=this.mouse,o=t.style,s=parseInt(o.top,10),i=5,n=this,a=function(t){t-=i,t>=-40?(o.top=t+"px",setTimeout(function(){a(t)},e)):setTimeout(function(){l(-40)},10*e)},l=function(t){t+=i,s>=t?(o.top=t+"px",setTimeout(function(){l(t)},e)):n.reset()};a(s)},reset:function(){this.mouse.islive=!0,this.mouse.style.background="url("+this.mousetype[this.mouse.mousetype]+")",this.mouse.style.backgroundRepeat="no-repeat",this.onend()},onbeat:function(){},onend:function(){}};var Game={time:31,mouseMap:{1:"good",2:"bad",3:"good",4:"bad",5:"good",6:"bad",7:"good",8:"bad",9:"good",10:"bad",11:"good",12:"bad"},allMouse:[],nowScore:0,hasHole:{},hasMouse:{},lis:null,init:function(){this.lis=document.getElementById("panel").getElementsByTagName("li"),_this=this;for(var e=1;12>=e;e++){var t=new Mouse(this.mouseMap[e]);t.onbeat=function(){Game.changeScore(10)},t.onend=function(){var e=_this.lis[this.hole];e.removeChild(e.mouse.mouse),e.mouse=null,_this.hasHole[this.hole]=null,_this.hasMouse[this.num]=null},this.allMouse.push(t)}},changeScore:function(e){this.nowScore+=e,document.getElementById("score").innerHTML=this.nowScore},start:function(){if(!(this.time<=0)){for(var e=this,t=parseInt(12*Math.random(),10);this.hasHole[t];)t=parseInt(12*Math.random(),10);for(var o=parseInt(12*Math.random(),10);this.hasMouse[o];)o=parseInt(12*Math.random(),10);this.allMouse[o].hole=t,this.allMouse[o].num=o,this.lis[t].appendChild(this.allMouse[o].mouse),this.lis[t].mouse=this.allMouse[o],this.lis[t].mouse.animation("normal"),this.hasHole[t]="true",this.hasMouse[o]="true",setTimeout(function(){e.start()},200)}},startTime:function(){this.time-=1;var e=this;document.getElementById("time").innerHTML=this.time,this.time>0&&setTimeout(function(){e.startTime()},1e3),0==this.time&&(scoremodal(),$(".start").css("display","block"))},reset:function(){this.time=30,this.allMouse=[],this.nowScore=0,this.hasHole={},this.hasMouse={},this.lis=null,this.changeScore(0)}};$(function(){function e(){var e;return e="number"==typeof window.innerWidth?window.innerWidth-20:document.documentElement.clientWidth-20}$(".flexslider").flexslider({animation:"slide",animationLoop:!1,itemMargin:5,pausePlay:!1}),$("#js-mainNAV button").click(function(){$("#js-side-nav-open").css("right","0%"),$("#js-doc-bg").show(),$("html").addClass("htmlFix")}),$("#js-doc-bg").click(function(){$("#js-side-nav-open").css("right",""),$("#js-doc-bg").hide(),$("html").removeClass("htmlFix")}),e()<1200&&($("#js-side-nav-open .megaMENU").css("margin-left",""),$("#js-side-nav-open li").click(function(){$("#js-side-nav-open li").removeClass("js-side-nav-in"),$(this).toggleClass("js-side-nav-in")}),$(".megaMENU").css("width",""))});