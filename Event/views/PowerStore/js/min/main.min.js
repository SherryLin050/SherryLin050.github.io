function GameStart(){return Game.time>0&&31!=Game.time?(alert("遊戲尚未結束,不能重新開始哦!"),void 0):(Game.reset(),Game.init(),Game.start(),Game.startTime(),$(".start").css("display","none"),void 0)}function scoremodal(){var t=$("#score").text(),e=t.toString();e>=35?$("#modal-container1").modal():$("#modal-container2").modal()}function copyurl1(){var t=document.getElementById("txt_output1");t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),alert("複製成功")}var Mouse=function(t){this.mouse=null,this.num=-1,this.hole=-1,this.init(t)};Mouse.prototype={mousetype:{good:"https://img.eclife.com.tw/EDM/11007/mediashow2021/game/Gophers_b.png",bad:"https://img.eclife.com.tw/EDM/11007/mediashow2021/game/Gophers_r.png",goodkill:"https://img.eclife.com.tw/EDM/11007/mediashow2021/game/Gophers_b_02.png",badkill:"https://img.eclife.com.tw/EDM/11007/mediashow2021/game/Gophers_r_02.png"},init:function(t){t=t||"good";var e=this;this.mouse=document.createElement("div"),this.mouse.mousetype=t,this.mouse.islive=!0,screen.width<992?(this.mouse.style.cssText="width:100px;height:159px;background:url('"+this.mousetype[t]+"') no-repeat;left:50%;transform: translateX(-50%);bottom:8px;position:absolute;margin:auto;cursor:pointer;",this.mouse.style.backgroundSize="100%"):(this.mouse.style.cssText="width:146px;height:230px;background:url('"+this.mousetype[t]+"') no-repeat;left:50%;transform: translateX(-50%);bottom:13px;position:absolute;margin:auto;cursor:pointer;",this.mouse.style.backgroundSize="100%"),this.mouse.onclick=function(t){e.beat(t)}},beat:function(){this.mouse.islive&&(this.mouse.islive=!1,this.onbeat(),this.mouse.style.background="url("+this.mousetype[this.mouse.mousetype+"kill"]+")",this.mouse.style.backgroundSize="100%")},animation:function(t){t="fast"==t?100:"normal"==t?90:110;var e=this.mouse,s=e.style,o=parseInt(s.top,10),i=5,n=this,a=function(e){e-=i,e>=-40?(s.top=e+"px",setTimeout(function(){a(e)},t)):setTimeout(function(){m(-40)},10*t)},m=function(e){e+=i,o>=e?(s.top=e+"px",setTimeout(function(){m(e)},t)):n.reset()};a(o)},reset:function(){this.mouse.islive=!0,this.mouse.style.background="url("+this.mousetype[this.mouse.mousetype]+")",this.mouse.style.backgroundSize="100%",this.onend()},onbeat:function(){},onend:function(){}};var Game={time:31,mouseMap:{1:"good",2:"bad",3:"good",4:"bad",5:"bad",6:"good",7:"bad",8:"good",9:"good",10:"bad"},allMouse:[],nowScore:0,hasHole:{},hasMouse:{},lis:null,init:function(){this.lis=document.getElementById("panel").getElementsByTagName("li"),_this=this;for(var t=1;10>=t;t++){var e=new Mouse(this.mouseMap[t]);e.onbeat=function(){Game.changeScore(1*("good"==this.mouse.mousetype?1:1))},e.onend=function(){var t=_this.lis[this.hole];t.removeChild(t.mouse.mouse),t.mouse=null,_this.hasHole[this.hole]=null,_this.hasMouse[this.num]=null},this.allMouse.push(e)}},changeScore:function(t){this.nowScore+=t,document.getElementById("score").innerHTML=this.nowScore},start:function(){if(!(this.time<=0)){for(var t=this,e=parseInt(9*Math.random(),10);this.hasHole[e];)e=parseInt(9*Math.random(),10);for(var s=parseInt(10*Math.random(),10);this.hasMouse[s];)s=parseInt(10*Math.random(),10);this.allMouse[s].hole=e,this.allMouse[s].num=s,this.lis[e].appendChild(this.allMouse[s].mouse),this.lis[e].mouse=this.allMouse[s],this.lis[e].mouse.animation("normal"),this.hasHole[e]="true",this.hasMouse[s]="true",setTimeout(function(){t.start()},200)}},startTime:function(){this.time-=1;var t=this;document.getElementById("time").innerHTML=this.time,this.time>0&&setTimeout(function(){t.startTime()},1e3),0==this.time&&(scoremodal(),$(".start").css("display","block"))},reset:function(){this.time=31,this.allMouse=[],this.nowScore=0,this.hasHole={},this.hasMouse={},this.lis=null,this.changeScore(0)}};$(function(){function t(){var t;return t="number"==typeof window.innerWidth?window.innerWidth-20:document.documentElement.clientWidth-20}$(".flexslider").flexslider({animation:"slide",animationLoop:!1,itemMargin:5,pausePlay:!1}),$("#js-mainNAV button").click(function(){$("#js-side-nav-open").css("right","0%"),$("#js-doc-bg").show(),$("html").addClass("htmlFix")}),$("#js-doc-bg").click(function(){$("#js-side-nav-open").css("right",""),$("#js-doc-bg").hide(),$("html").removeClass("htmlFix")}),t()<1200&&($("#js-side-nav-open .megaMENU").css("margin-left",""),$("#js-side-nav-open li").click(function(){$("#js-side-nav-open li").removeClass("js-side-nav-in"),$(this).toggleClass("js-side-nav-in")}),$(".megaMENU").css("width",""))});